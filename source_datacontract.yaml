---
dataContractSpecification: "0.9.3"
id: demo_extract_001
info:
  title: "User Extract"
  version: "0.0.1"
  status: active
  description: demo user per organisation extract
  owner: pixie79
terms:
  usage: |
    Data can be used for demo purposes only. To show how to load Tab seperated 
    batch data into Redpanda.
  limitations: |
    Not suitable for real-time use cases.
    Data may not be used to identify individual customers.
    Max data processing per day: 10 MB
  billing: 5 USD per month
  noticePeriod: P3M
fileFormat:
  controlLine:
    description: Indicates the start of the file.
    format: "C|<version_number>"
    example: "C|1"
    fields:
      - name: version_number
        type: integer
        description: Version number of the file format.
  headerLine:
    description: Defines the structure of the data lines.
    format: "H|userId|org|firstname|surname|identityNumber|dateOfBirth"
    example: "H|userId|org|firstname|surname|identityNumber|dateOfBirth"
  dataLines:
    description: Contains the actual data records.
    format: "D|<userId>|<org>|<firstname>|<surname>|<identityNumber>|<dateOfBirth>"
    example: "D|USROAm_0W|1|John|Doe|123456789|1983-05-26 21:14:19.34"
    fields:
      - name: userId
        type: string
        description: Unique identifier for the user.
      - name: org
        type: integer
        description: Organization identifier.
      - name: firstname
        type: string
        description: First name of the user.
      - name: surname
        type: string
        description: Last name of the user.
      - name: identityNumber
        type: string
        description: Identity number of the user. Can be empty.
      - name: dateOfBirth
        type: timestamp
        description: Date and time of birth of the user.
        format: "YYYY-MM-DD HH:MM:SS.sss"
  sectionTailSummaryLine:
    description: Provides a summary of the section including the count of records and the production timestamp.
    format: "T|<record_count>|<production_timestamp>"
    example: "T|10|2024-07-18 08:00:00.00"
    fields:
      - name: record_count
        type: integer
        description: Number of data records in the section.
      - name: production_timestamp
        type: timestamp
        description: Timestamp when the section was produced.
        format: "YYYY-MM-DD HH:MM:SS.sss"

examples:
  - type: csv
    model: controlLine
    data: "C|1"
  - type: csv
    model: headerLine
    data:  H|userId|org|firstname|surname|identityNumber|dateOfBirth
  - type: csv
    model: dataLines
    data: |-
      D|USROAm_0W|1|John|Doe|123456789|1983-05-26 21:14:19.34
      D|USRycj08J|1|Amelia|Wales||2001-04-03 12:56:11.548
      D|USRYENkSS|1|Fred|Young|123456789|1974-11-18 09:47:29.253
      D|USRKTpVVP|1|Katie|Cobbler|7707077777087|1984-05-04 10:32:31.298
      D|USRsQA5Dt|1|Luke|Watson|123456789|2009-08-17 10:11:54.636
      D|USRAcvbmL|1|Amy|Dune|7707077777087|2017-11-06 14:53:24.114
      D|USREL5DEi|1|Mark|Stuart|123456789|1983-12-08 16:36:33.359
      D|USRp873nu|1|Michael|King|987654321|2020-03-01 14:59:26.597
      D|USRwDmMNv|1|Emily|Childs|123456789|1976-09-15 12:46:34.624
      D|USR6rJcMn|1|Ruby|Johnson|987654321|1994-11-21 19:19:31.63
  - type: csv
    model: sectionTailSummaryLine
    data: T|10|2024-07-18 08:00:00.00
servicelevels:
  availability:
    description: The server is available during support hours
    percentage: 99.9%
  retention:
    description: Data is retained for one year
    period: P1Y
    unlimited: false
  latency:
    description: Data is available once per day
    threshold: 25h
    sourceTimestampField: production_timestamp
    processedTimestampField: production_timestamp
  freshness:
    description: The age of the youngest row in a table.
    threshold: 25h
    timestampField: production_timestamp
  frequency:
    description: Data is delivered once a day
    type: batch # or streaming
    interval: daily # for batch, either or cron
    cron: 0 0 * * * # for batch, either or interval
  support:
    description: The data is available during typical business hours at headquarters
    time: 9am to 5pm in EST on business days
    responseTime: 1h
  backup:
    description: Data is backed up once a week, every Sunday at 0:00 UTC.
    interval: weekly
    cron: 0 0 * * 0
    recoveryTime: 24 hours
    recoveryPoint: 1 week